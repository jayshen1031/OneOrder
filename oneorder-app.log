[INFO] Scanning for projects...
[INFO] 
[INFO] ---------------< com.oneorder:oneorder-clearing-system >----------------
[INFO] Building OneOrder财务清分系统 1.0.0
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:2.7.14:run (default-cli) > test-compile @ oneorder-clearing-system >>>
[INFO] 
[INFO] --- resources:3.2.0:resources (default-resources) @ oneorder-clearing-system ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] Copying 3 resources
[INFO] Copying 13 resources
[INFO] 
[INFO] --- compiler:3.10.1:compile (default-compile) @ oneorder-clearing-system ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- resources:3.2.0:testResources (default-testResources) @ oneorder-clearing-system ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Using 'UTF-8' encoding to copy filtered properties files.
[INFO] skip non existing resourceDirectory /Users/jay/Documents/baidu/projects/OneOrder/src/test/resources
[INFO] 
[INFO] --- compiler:3.10.1:testCompile (default-testCompile) @ oneorder-clearing-system ---
[INFO] No sources to compile
[INFO] 
[INFO] <<< spring-boot:2.7.14:run (default-cli) < test-compile @ oneorder-clearing-system <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:2.7.14:run (default-cli) @ oneorder-clearing-system ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::               (v2.7.14)

2025-09-15 18:22:24 [main] INFO  c.o.c.OneOrderClearingApplication - Starting OneOrderClearingApplication using Java 11.0.28 on shenyangdeMacBook-Air.local with PID 94004 (/Users/jay/Documents/baidu/projects/OneOrder/target/classes started by jay in /Users/jay/Documents/baidu/projects/OneOrder)
2025-09-15 18:22:24 [main] DEBUG c.o.c.OneOrderClearingApplication - Running with Spring Boot v2.7.14, Spring v5.3.29
2025-09-15 18:22:24 [main] INFO  c.o.c.OneOrderClearingApplication - The following 1 profile is active: "local"
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 94 ms. Found 12 JPA repository interfaces.
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.AccountingEntryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.ClearingResultRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.ClearingRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.CrossBorderFlowRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.DepartmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.InternalProtocolRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.LegalEntityRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.OrderServiceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.ProtocolRevenueRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.ServiceConfigRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.StaffRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.oneorder.clearing.repository.TransitEntityRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-09-15 18:22:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-09-15 18:22:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-09-15 18:22:26 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-15 18:22:26 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.78]
2025-09-15 18:22:26 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-15 18:22:26 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1735 ms
2025-09-15 18:22:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-15 18:22:26 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.15.Final
2025-09-15 18:22:26 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-09-15 18:22:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-15 18:22:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-15 18:22:26 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-09-15 18:22:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-09-15 18:22:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-15 18:22:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-15 18:22:29 [main] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2025-09-15 18:22:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path '/api'
2025-09-15 18:22:29 [main] INFO  c.o.c.OneOrderClearingApplication - Started OneOrderClearingApplication in 6.128 seconds (JVM running for 6.551)
2025-09-15 18:22:29 [main] DEBUG org.hibernate.SQL - 
    /* select
        count(*) 
    from
        ServiceConfig x */ select
            count(*) as col_0_0_ 
        from
            service_config servicecon0_
Hibernate: 
    /* select
        count(*) 
    from
        ServiceConfig x */ select
            count(*) as col_0_0_ 
        from
            service_config servicecon0_
2025-09-15 18:22:29 [main] INFO  c.o.c.s.ServiceConfigInitializer - 服务配置已存在 20 条记录，跳过初始化
==============================================
OneOrder财务清分系统启动成功！
API文档地址: http://localhost:8080/api/swagger-ui.html
==============================================
2025-09-15 18:22:37 [http-nio-8081-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-15 18:22:37 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-15 18:22:37 [http-nio-8081-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-15 18:22:50 [http-nio-8081-exec-5] INFO  c.o.c.controller.ClearingController - 查询所有有效协议
2025-09-15 18:22:50 [http-nio-8081-exec-5] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
Hibernate: 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
2025-09-15 18:22:50 [http-nio-8081-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 22003
2025-09-15 18:22:50 [http-nio-8081-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - 不良的类型值 long : FCL005
2025-09-15 18:22:50 [http-nio-8081-exec-5] ERROR c.o.c.controller.ClearingController - 查询协议列表失败
org.springframework.dao.DataIntegrityViolationException: could not execute query; SQL [select internalpr0_.protocol_id as protocol1_5_, internalpr0_.created_by as created_2_5_, internalpr0_.created_time as created_3_5_, internalpr0_.updated_by as updated_4_5_, internalpr0_.updated_time as updated_5_5_, internalpr0_.version as version6_5_, internalpr0_.active as active7_5_, internalpr0_.base_commission_rate as base_com8_5_, internalpr0_.business_type as business9_5_, internalpr0_.effective_date as effecti10_5_, internalpr0_.expiry_date as expiry_11_5_, internalpr0_.operation_department_id as operati12_5_, internalpr0_.performance_bonus_rate as perform13_5_, internalpr0_.protocol_name as protoco14_5_, internalpr0_.sales_department_id as sales_d15_5_, internalpr0_.service_code as service16_5_ from internal_protocol internalpr0_ where internalpr0_.active=true and internalpr0_.effective_date<=CURRENT_DATE and (internalpr0_.expiry_date is null or internalpr0_.expiry_date>=CURRENT_DATE) order by internalpr0_.protocol_name]; nested exception is org.hibernate.exception.DataException: could not execute query
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:280)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllEffectiveProtocols(Unknown Source)
	at com.oneorder.clearing.repository.InternalProtocolRepository.findAllActive(InternalProtocolRepository.java:161)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:82)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllActive(Unknown Source)
	at com.oneorder.clearing.controller.ClearingController.getAllActiveProtocols(ClearingController.java:416)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.hibernate.exception.DataException: could not execute query
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.loader.Loader.doList(Loader.java:2871)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459)
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:76)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 74 common frames omitted
Caused by: org.postgresql.util.PSQLException: 不良的类型值 long : FCL005
	at org.postgresql.jdbc.PgResultSet.toLong(PgResultSet.java:3253)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2436)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2841)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getLong(HikariProxyResultSet.java)
	at org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$2.doExtract(BigIntTypeDescriptor.java:63)
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)
	at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)
	at org.hibernate.type.ManyToOneType.hydrate(ManyToOneType.java:207)
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)
	at org.hibernate.loader.Loader.getRow(Loader.java:1624)
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998)
	at org.hibernate.loader.Loader.doQuery(Loader.java:967)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	... 100 common frames omitted
2025-09-15 18:22:51 [http-nio-8081-exec-6] INFO  c.o.c.controller.ClearingController - 查询操作人员信息
2025-09-15 18:22:51 [http-nio-8081-exec-6] DEBUG org.hibernate.SQL - 
    /* select
        generatedAlias0 
    from
        Staff as generatedAlias0 
    where
        (
            generatedAlias0.roleType=:param0 
        ) 
        and (
            generatedAlias0.active = true 
        ) */ select
            staff0_.staff_id as staff_id1_12_,
            staff0_.created_by as created_2_12_,
            staff0_.created_time as created_3_12_,
            staff0_.updated_by as updated_4_12_,
            staff0_.updated_time as updated_5_12_,
            staff0_.version as version6_12_,
            staff0_.active as active7_12_,
            staff0_.department_id as departme8_12_,
            staff0_.email as email9_12_,
            staff0_.employee_no as employe10_12_,
            staff0_.legal_entity_id as legal_e11_12_,
            staff0_.phone as phone12_12_,
            staff0_.role_type as role_ty13_12_,
            staff0_.staff_name as staff_n14_12_ 
        from
            staff staff0_ 
        where
            staff0_.role_type=? 
            and staff0_.active=true
Hibernate: 
    /* select
        generatedAlias0 
    from
        Staff as generatedAlias0 
    where
        (
            generatedAlias0.roleType=:param0 
        ) 
        and (
            generatedAlias0.active = true 
        ) */ select
            staff0_.staff_id as staff_id1_12_,
            staff0_.created_by as created_2_12_,
            staff0_.created_time as created_3_12_,
            staff0_.updated_by as updated_4_12_,
            staff0_.updated_time as updated_5_12_,
            staff0_.version as version6_12_,
            staff0_.active as active7_12_,
            staff0_.department_id as departme8_12_,
            staff0_.email as email9_12_,
            staff0_.employee_no as employe10_12_,
            staff0_.legal_entity_id as legal_e11_12_,
            staff0_.phone as phone12_12_,
            staff0_.role_type as role_ty13_12_,
            staff0_.staff_name as staff_n14_12_ 
        from
            staff staff0_ 
        where
            staff0_.role_type=? 
            and staff0_.active=true
2025-09-15 18:22:51 [http-nio-8081-exec-6] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [OPERATION]
2025-09-15 18:22:53 [http-nio-8081-exec-7] INFO  c.o.c.controller.ClearingController - 查询所有有效协议
2025-09-15 18:22:53 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
Hibernate: 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
2025-09-15 18:22:53 [http-nio-8081-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 22003
2025-09-15 18:22:53 [http-nio-8081-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - 不良的类型值 long : FCL005
2025-09-15 18:22:53 [http-nio-8081-exec-7] ERROR c.o.c.controller.ClearingController - 查询协议列表失败
org.springframework.dao.DataIntegrityViolationException: could not execute query; SQL [select internalpr0_.protocol_id as protocol1_5_, internalpr0_.created_by as created_2_5_, internalpr0_.created_time as created_3_5_, internalpr0_.updated_by as updated_4_5_, internalpr0_.updated_time as updated_5_5_, internalpr0_.version as version6_5_, internalpr0_.active as active7_5_, internalpr0_.base_commission_rate as base_com8_5_, internalpr0_.business_type as business9_5_, internalpr0_.effective_date as effecti10_5_, internalpr0_.expiry_date as expiry_11_5_, internalpr0_.operation_department_id as operati12_5_, internalpr0_.performance_bonus_rate as perform13_5_, internalpr0_.protocol_name as protoco14_5_, internalpr0_.sales_department_id as sales_d15_5_, internalpr0_.service_code as service16_5_ from internal_protocol internalpr0_ where internalpr0_.active=true and internalpr0_.effective_date<=CURRENT_DATE and (internalpr0_.expiry_date is null or internalpr0_.expiry_date>=CURRENT_DATE) order by internalpr0_.protocol_name]; nested exception is org.hibernate.exception.DataException: could not execute query
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:280)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllEffectiveProtocols(Unknown Source)
	at com.oneorder.clearing.repository.InternalProtocolRepository.findAllActive(InternalProtocolRepository.java:161)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:82)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllActive(Unknown Source)
	at com.oneorder.clearing.controller.ClearingController.getAllActiveProtocols(ClearingController.java:416)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.hibernate.exception.DataException: could not execute query
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.loader.Loader.doList(Loader.java:2871)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459)
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:76)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 74 common frames omitted
Caused by: org.postgresql.util.PSQLException: 不良的类型值 long : FCL005
	at org.postgresql.jdbc.PgResultSet.toLong(PgResultSet.java:3253)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2436)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2841)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getLong(HikariProxyResultSet.java)
	at org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$2.doExtract(BigIntTypeDescriptor.java:63)
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)
	at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)
	at org.hibernate.type.ManyToOneType.hydrate(ManyToOneType.java:207)
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)
	at org.hibernate.loader.Loader.getRow(Loader.java:1624)
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998)
	at org.hibernate.loader.Loader.doQuery(Loader.java:967)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	... 100 common frames omitted
2025-09-15 18:22:54 [http-nio-8081-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2025-09-15 18:22:56 [http-nio-8081-exec-9] INFO  c.o.c.controller.ClearingController - 查询所有有效协议
2025-09-15 18:22:56 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
Hibernate: 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
2025-09-15 18:22:56 [http-nio-8081-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 22003
2025-09-15 18:22:56 [http-nio-8081-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - 不良的类型值 long : FCL005
2025-09-15 18:22:56 [http-nio-8081-exec-9] ERROR c.o.c.controller.ClearingController - 查询协议列表失败
org.springframework.dao.DataIntegrityViolationException: could not execute query; SQL [select internalpr0_.protocol_id as protocol1_5_, internalpr0_.created_by as created_2_5_, internalpr0_.created_time as created_3_5_, internalpr0_.updated_by as updated_4_5_, internalpr0_.updated_time as updated_5_5_, internalpr0_.version as version6_5_, internalpr0_.active as active7_5_, internalpr0_.base_commission_rate as base_com8_5_, internalpr0_.business_type as business9_5_, internalpr0_.effective_date as effecti10_5_, internalpr0_.expiry_date as expiry_11_5_, internalpr0_.operation_department_id as operati12_5_, internalpr0_.performance_bonus_rate as perform13_5_, internalpr0_.protocol_name as protoco14_5_, internalpr0_.sales_department_id as sales_d15_5_, internalpr0_.service_code as service16_5_ from internal_protocol internalpr0_ where internalpr0_.active=true and internalpr0_.effective_date<=CURRENT_DATE and (internalpr0_.expiry_date is null or internalpr0_.expiry_date>=CURRENT_DATE) order by internalpr0_.protocol_name]; nested exception is org.hibernate.exception.DataException: could not execute query
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:280)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllEffectiveProtocols(Unknown Source)
	at com.oneorder.clearing.repository.InternalProtocolRepository.findAllActive(InternalProtocolRepository.java:161)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:82)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllActive(Unknown Source)
	at com.oneorder.clearing.controller.ClearingController.getAllActiveProtocols(ClearingController.java:416)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.hibernate.exception.DataException: could not execute query
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.loader.Loader.doList(Loader.java:2871)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459)
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:76)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 74 common frames omitted
Caused by: org.postgresql.util.PSQLException: 不良的类型值 long : FCL005
	at org.postgresql.jdbc.PgResultSet.toLong(PgResultSet.java:3253)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2436)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2841)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getLong(HikariProxyResultSet.java)
	at org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$2.doExtract(BigIntTypeDescriptor.java:63)
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)
	at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)
	at org.hibernate.type.ManyToOneType.hydrate(ManyToOneType.java:207)
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)
	at org.hibernate.loader.Loader.getRow(Loader.java:1624)
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998)
	at org.hibernate.loader.Loader.doQuery(Loader.java:967)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	... 100 common frames omitted
2025-09-15 18:22:58 [http-nio-8081-exec-10] INFO  c.o.c.controller.ClearingController - 查询操作人员信息
2025-09-15 18:22:58 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* select
        generatedAlias0 
    from
        Staff as generatedAlias0 
    where
        (
            generatedAlias0.roleType=:param0 
        ) 
        and (
            generatedAlias0.active = true 
        ) */ select
            staff0_.staff_id as staff_id1_12_,
            staff0_.created_by as created_2_12_,
            staff0_.created_time as created_3_12_,
            staff0_.updated_by as updated_4_12_,
            staff0_.updated_time as updated_5_12_,
            staff0_.version as version6_12_,
            staff0_.active as active7_12_,
            staff0_.department_id as departme8_12_,
            staff0_.email as email9_12_,
            staff0_.employee_no as employe10_12_,
            staff0_.legal_entity_id as legal_e11_12_,
            staff0_.phone as phone12_12_,
            staff0_.role_type as role_ty13_12_,
            staff0_.staff_name as staff_n14_12_ 
        from
            staff staff0_ 
        where
            staff0_.role_type=? 
            and staff0_.active=true
Hibernate: 
    /* select
        generatedAlias0 
    from
        Staff as generatedAlias0 
    where
        (
            generatedAlias0.roleType=:param0 
        ) 
        and (
            generatedAlias0.active = true 
        ) */ select
            staff0_.staff_id as staff_id1_12_,
            staff0_.created_by as created_2_12_,
            staff0_.created_time as created_3_12_,
            staff0_.updated_by as updated_4_12_,
            staff0_.updated_time as updated_5_12_,
            staff0_.version as version6_12_,
            staff0_.active as active7_12_,
            staff0_.department_id as departme8_12_,
            staff0_.email as email9_12_,
            staff0_.employee_no as employe10_12_,
            staff0_.legal_entity_id as legal_e11_12_,
            staff0_.phone as phone12_12_,
            staff0_.role_type as role_ty13_12_,
            staff0_.staff_name as staff_n14_12_ 
        from
            staff staff0_ 
        where
            staff0_.role_type=? 
            and staff0_.active=true
2025-09-15 18:22:58 [http-nio-8081-exec-10] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [OPERATION]
2025-09-15 18:23:00 [http-nio-8081-exec-1] INFO  c.o.c.controller.ClearingController - 查询任务列表 - 操作员: undefined
2025-09-15 18:23:00 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* select
        generatedAlias0 
    from
        OrderService as generatedAlias0 
    where
        generatedAlias0.operationStaffId=:param0 */ select
            orderservi0_.service_id as service_1_8_,
            orderservi0_.created_by as created_2_8_,
            orderservi0_.created_time as created_3_8_,
            orderservi0_.updated_by as updated_4_8_,
            orderservi0_.updated_time as updated_5_8_,
            orderservi0_.version as version6_8_,
            orderservi0_.assigned_by as assigned7_8_,
            orderservi0_.assigned_time as assigned8_8_,
            orderservi0_.block_reason as block_re9_8_,
            orderservi0_.completed_time as complet10_8_,
            orderservi0_.currency as currenc11_8_,
            orderservi0_.internal_protocol_id as interna12_8_,
            orderservi0_.notes as notes13_8_,
            orderservi0_.operation_department_id as operati14_8_,
            orderservi0_.operation_staff_id as operati15_8_,
            orderservi0_.order_id as order_i16_8_,
            orderservi0_.priority as priorit17_8_,
            orderservi0_.protocol_confirmed_time as protoco18_8_,
            orderservi0_.remarks as remarks19_8_,
            orderservi0_.service_amount as service20_8_,
            orderservi0_.service_code as service21_8_,
            orderservi0_.service_config_id as service22_8_,
            orderservi0_.started_time as started23_8_,
            orderservi0_.status as status24_8_ 
        from
            order_service orderservi0_ 
        where
            orderservi0_.operation_staff_id=?
Hibernate: 
    /* select
        generatedAlias0 
    from
        OrderService as generatedAlias0 
    where
        generatedAlias0.operationStaffId=:param0 */ select
            orderservi0_.service_id as service_1_8_,
            orderservi0_.created_by as created_2_8_,
            orderservi0_.created_time as created_3_8_,
            orderservi0_.updated_by as updated_4_8_,
            orderservi0_.updated_time as updated_5_8_,
            orderservi0_.version as version6_8_,
            orderservi0_.assigned_by as assigned7_8_,
            orderservi0_.assigned_time as assigned8_8_,
            orderservi0_.block_reason as block_re9_8_,
            orderservi0_.completed_time as complet10_8_,
            orderservi0_.currency as currenc11_8_,
            orderservi0_.internal_protocol_id as interna12_8_,
            orderservi0_.notes as notes13_8_,
            orderservi0_.operation_department_id as operati14_8_,
            orderservi0_.operation_staff_id as operati15_8_,
            orderservi0_.order_id as order_i16_8_,
            orderservi0_.priority as priorit17_8_,
            orderservi0_.protocol_confirmed_time as protoco18_8_,
            orderservi0_.remarks as remarks19_8_,
            orderservi0_.service_amount as service20_8_,
            orderservi0_.service_code as service21_8_,
            orderservi0_.service_config_id as service22_8_,
            orderservi0_.started_time as started23_8_,
            orderservi0_.status as status24_8_ 
        from
            order_service orderservi0_ 
        where
            orderservi0_.operation_staff_id=?
2025-09-15 18:23:00 [http-nio-8081-exec-1] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [undefined]
2025-09-15 18:28:10 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m14s249ms).
2025-09-15 18:30:22 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m11s317ms).
2025-09-15 18:35:05 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m12s893ms).
2025-09-15 18:52:21 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m16s106ms).
2025-09-15 19:09:43 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m22s136ms).
2025-09-15 19:45:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=35m41s280ms).
2025-09-15 19:46:47 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=52s878ms).
2025-09-15 20:03:45 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m28s229ms).
2025-09-15 20:19:41 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s799ms).
2025-09-15 20:28:06 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=8m25s208ms).
2025-09-15 20:44:31 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s977ms).
2025-09-15 21:00:27 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s781ms).
2025-09-15 21:16:53 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s820ms).
2025-09-15 21:29:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m963ms).
2025-09-15 21:45:19 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s976ms).
2025-09-15 22:01:45 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s656ms).
2025-09-15 22:17:45 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m584ms).
2025-09-15 22:30:15 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m259ms).
2025-09-15 22:46:16 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m402ms).
2025-09-15 23:02:42 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s740ms).
2025-09-15 23:19:07 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s241ms).
2025-09-15 23:31:06 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m59s533ms).
2025-09-15 23:47:32 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s835ms).
2025-09-16 00:03:28 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s780ms).
2025-09-16 00:19:53 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s970ms).
2025-09-16 00:32:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m1s269ms).
2025-09-16 00:48:16 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m52s75ms).
2025-09-16 01:04:42 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s872ms).
2025-09-16 01:20:20 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m37s973ms).
2025-09-16 01:33:22 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m32s107ms).
2025-09-16 01:49:18 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s868ms).
2025-09-16 02:05:38 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m49s270ms).
2025-09-16 02:21:10 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m32s387ms).
2025-09-16 02:37:36 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s720ms).
2025-09-16 02:54:01 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s647ms).
2025-09-16 03:25:32 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=31m1s56ms).
2025-09-16 03:41:41 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m38s940ms).
2025-09-16 03:57:42 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m377ms).
2025-09-16 04:13:39 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m27s673ms).
2025-09-16 04:29:10 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m30s179ms).
2025-09-16 04:45:35 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s736ms).
2025-09-16 05:01:18 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m42s217ms).
2025-09-16 05:17:43 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s15ms).
2025-09-16 05:24:54 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6m41s110ms).
2025-09-16 05:40:49 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s91ms).
2025-09-16 05:45:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m5s16ms).
2025-09-16 05:49:35 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m11s105ms).
2025-09-16 06:06:00 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s950ms).
2025-09-16 06:21:56 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s913ms).
2025-09-16 06:38:22 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m55s824ms).
2025-09-16 06:41:55 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m33s7ms).
2025-09-16 06:51:49 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m24s695ms).
2025-09-16 07:25:41 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=33m21s667ms).
2025-09-16 07:50:30 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=24m18s677ms).
2025-09-16 08:25:11 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=34m40s857ms).
2025-09-16 08:26:51 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m40s793ms).
2025-09-16 08:55:24 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=28m32s488ms).
2025-09-16 08:55:54 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Retrograde clock change detected (housekeeper delta=29s804ms), soft-evicting connections from pool.
2025-09-16 09:02:03 [http-nio-8081-exec-10] INFO  c.o.c.controller.ClearingController - 查询所有有效协议
2025-09-16 09:02:03 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
Hibernate: 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
2025-09-16 09:02:03 [http-nio-8081-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 22003
2025-09-16 09:02:03 [http-nio-8081-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - 不良的类型值 long : FCL005
2025-09-16 09:02:03 [http-nio-8081-exec-10] ERROR c.o.c.controller.ClearingController - 查询协议列表失败
org.springframework.dao.DataIntegrityViolationException: could not execute query; SQL [select internalpr0_.protocol_id as protocol1_5_, internalpr0_.created_by as created_2_5_, internalpr0_.created_time as created_3_5_, internalpr0_.updated_by as updated_4_5_, internalpr0_.updated_time as updated_5_5_, internalpr0_.version as version6_5_, internalpr0_.active as active7_5_, internalpr0_.base_commission_rate as base_com8_5_, internalpr0_.business_type as business9_5_, internalpr0_.effective_date as effecti10_5_, internalpr0_.expiry_date as expiry_11_5_, internalpr0_.operation_department_id as operati12_5_, internalpr0_.performance_bonus_rate as perform13_5_, internalpr0_.protocol_name as protoco14_5_, internalpr0_.sales_department_id as sales_d15_5_, internalpr0_.service_code as service16_5_ from internal_protocol internalpr0_ where internalpr0_.active=true and internalpr0_.effective_date<=CURRENT_DATE and (internalpr0_.expiry_date is null or internalpr0_.expiry_date>=CURRENT_DATE) order by internalpr0_.protocol_name]; nested exception is org.hibernate.exception.DataException: could not execute query
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:280)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllEffectiveProtocols(Unknown Source)
	at com.oneorder.clearing.repository.InternalProtocolRepository.findAllActive(InternalProtocolRepository.java:161)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:82)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllActive(Unknown Source)
	at com.oneorder.clearing.controller.ClearingController.getAllActiveProtocols(ClearingController.java:416)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.hibernate.exception.DataException: could not execute query
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.loader.Loader.doList(Loader.java:2871)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459)
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:76)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 74 common frames omitted
Caused by: org.postgresql.util.PSQLException: 不良的类型值 long : FCL005
	at org.postgresql.jdbc.PgResultSet.toLong(PgResultSet.java:3253)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2436)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2841)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getLong(HikariProxyResultSet.java)
	at org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$2.doExtract(BigIntTypeDescriptor.java:63)
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)
	at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)
	at org.hibernate.type.ManyToOneType.hydrate(ManyToOneType.java:207)
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)
	at org.hibernate.loader.Loader.getRow(Loader.java:1624)
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998)
	at org.hibernate.loader.Loader.doQuery(Loader.java:967)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	... 100 common frames omitted
2025-09-16 09:02:24 [http-nio-8081-exec-1] INFO  c.o.c.controller.ClearingController - 查询所有有效协议
2025-09-16 09:02:24 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
Hibernate: 
    /* SELECT
        p 
    FROM
        InternalProtocol p 
    WHERE
        p.active = true 
        AND p.effectiveDate <= CURRENT_DATE 
        AND (
            p.expiryDate IS NULL 
            OR p.expiryDate >= CURRENT_DATE
        ) 
    ORDER BY
        p.protocolName */ select
            internalpr0_.protocol_id as protocol1_5_,
            internalpr0_.created_by as created_2_5_,
            internalpr0_.created_time as created_3_5_,
            internalpr0_.updated_by as updated_4_5_,
            internalpr0_.updated_time as updated_5_5_,
            internalpr0_.version as version6_5_,
            internalpr0_.active as active7_5_,
            internalpr0_.base_commission_rate as base_com8_5_,
            internalpr0_.business_type as business9_5_,
            internalpr0_.effective_date as effecti10_5_,
            internalpr0_.expiry_date as expiry_11_5_,
            internalpr0_.operation_department_id as operati12_5_,
            internalpr0_.performance_bonus_rate as perform13_5_,
            internalpr0_.protocol_name as protoco14_5_,
            internalpr0_.sales_department_id as sales_d15_5_,
            internalpr0_.service_code as service16_5_ 
        from
            internal_protocol internalpr0_ 
        where
            internalpr0_.active=true 
            and internalpr0_.effective_date<=CURRENT_DATE 
            and (
                internalpr0_.expiry_date is null 
                or internalpr0_.expiry_date>=CURRENT_DATE
            ) 
        order by
            internalpr0_.protocol_name
2025-09-16 09:02:24 [http-nio-8081-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 22003
2025-09-16 09:02:24 [http-nio-8081-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - 不良的类型值 long : FCL005
2025-09-16 09:02:24 [http-nio-8081-exec-1] ERROR c.o.c.controller.ClearingController - 查询协议列表失败
org.springframework.dao.DataIntegrityViolationException: could not execute query; SQL [select internalpr0_.protocol_id as protocol1_5_, internalpr0_.created_by as created_2_5_, internalpr0_.created_time as created_3_5_, internalpr0_.updated_by as updated_4_5_, internalpr0_.updated_time as updated_5_5_, internalpr0_.version as version6_5_, internalpr0_.active as active7_5_, internalpr0_.base_commission_rate as base_com8_5_, internalpr0_.business_type as business9_5_, internalpr0_.effective_date as effecti10_5_, internalpr0_.expiry_date as expiry_11_5_, internalpr0_.operation_department_id as operati12_5_, internalpr0_.performance_bonus_rate as perform13_5_, internalpr0_.protocol_name as protoco14_5_, internalpr0_.sales_department_id as sales_d15_5_, internalpr0_.service_code as service16_5_ from internal_protocol internalpr0_ where internalpr0_.active=true and internalpr0_.effective_date<=CURRENT_DATE and (internalpr0_.expiry_date is null or internalpr0_.expiry_date>=CURRENT_DATE) order by internalpr0_.protocol_name]; nested exception is org.hibernate.exception.DataException: could not execute query
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:280)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllEffectiveProtocols(Unknown Source)
	at com.oneorder.clearing.repository.InternalProtocolRepository.findAllActive(InternalProtocolRepository.java:161)
	at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:82)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy145.findAllActive(Unknown Source)
	at com.oneorder.clearing.controller.ClearingController.getAllActiveProtocols(ClearingController.java:416)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.hibernate.exception.DataException: could not execute query
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:115)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.loader.Loader.doList(Loader.java:2871)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:218)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459)
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:76)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 74 common frames omitted
Caused by: org.postgresql.util.PSQLException: 不良的类型值 long : FCL005
	at org.postgresql.jdbc.PgResultSet.toLong(PgResultSet.java:3253)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2436)
	at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2841)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.getLong(HikariProxyResultSet.java)
	at org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$2.doExtract(BigIntTypeDescriptor.java:63)
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)
	at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)
	at org.hibernate.type.ManyToOneType.hydrate(ManyToOneType.java:207)
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214)
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887)
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811)
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784)
	at org.hibernate.loader.Loader.getRow(Loader.java:1624)
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748)
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998)
	at org.hibernate.loader.Loader.doQuery(Loader.java:967)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	... 100 common frames omitted
2025-09-16 09:02:49 [http-nio-8081-exec-2] INFO  c.o.c.controller.ClearingController - 查询操作人员信息
2025-09-16 09:02:49 [http-nio-8081-exec-2] DEBUG org.hibernate.SQL - 
    /* select
        generatedAlias0 
    from
        Staff as generatedAlias0 
    where
        (
            generatedAlias0.roleType=:param0 
        ) 
        and (
            generatedAlias0.active = true 
        ) */ select
            staff0_.staff_id as staff_id1_12_,
            staff0_.created_by as created_2_12_,
            staff0_.created_time as created_3_12_,
            staff0_.updated_by as updated_4_12_,
            staff0_.updated_time as updated_5_12_,
            staff0_.version as version6_12_,
            staff0_.active as active7_12_,
            staff0_.department_id as departme8_12_,
            staff0_.email as email9_12_,
            staff0_.employee_no as employe10_12_,
            staff0_.legal_entity_id as legal_e11_12_,
            staff0_.phone as phone12_12_,
            staff0_.role_type as role_ty13_12_,
            staff0_.staff_name as staff_n14_12_ 
        from
            staff staff0_ 
        where
            staff0_.role_type=? 
            and staff0_.active=true
Hibernate: 
    /* select
        generatedAlias0 
    from
        Staff as generatedAlias0 
    where
        (
            generatedAlias0.roleType=:param0 
        ) 
        and (
            generatedAlias0.active = true 
        ) */ select
            staff0_.staff_id as staff_id1_12_,
            staff0_.created_by as created_2_12_,
            staff0_.created_time as created_3_12_,
            staff0_.updated_by as updated_4_12_,
            staff0_.updated_time as updated_5_12_,
            staff0_.version as version6_12_,
            staff0_.active as active7_12_,
            staff0_.department_id as departme8_12_,
            staff0_.email as email9_12_,
            staff0_.employee_no as employe10_12_,
            staff0_.legal_entity_id as legal_e11_12_,
            staff0_.phone as phone12_12_,
            staff0_.role_type as role_ty13_12_,
            staff0_.staff_name as staff_n14_12_ 
        from
            staff staff0_ 
        where
            staff0_.role_type=? 
            and staff0_.active=true
2025-09-16 09:02:49 [http-nio-8081-exec-2] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [OPERATION]
2025-09-16 09:02:51 [http-nio-8081-exec-3] INFO  c.o.c.controller.ClearingController - 查询操作人员信息
2025-09-16 09:02:51 [http-nio-8081-exec-3] DEBUG org.hibernate.SQL - 
    /* select
        generatedAlias0 
    from
        Staff as generatedAlias0 
    where
        (
            generatedAlias0.roleType=:param0 
        ) 
        and (
            generatedAlias0.active = true 
        ) */ select
            staff0_.staff_id as staff_id1_12_,
            staff0_.created_by as created_2_12_,
            staff0_.created_time as created_3_12_,
            staff0_.updated_by as updated_4_12_,
            staff0_.updated_time as updated_5_12_,
            staff0_.version as version6_12_,
            staff0_.active as active7_12_,
            staff0_.department_id as departme8_12_,
            staff0_.email as email9_12_,
            staff0_.employee_no as employe10_12_,
            staff0_.legal_entity_id as legal_e11_12_,
            staff0_.phone as phone12_12_,
            staff0_.role_type as role_ty13_12_,
            staff0_.staff_name as staff_n14_12_ 
        from
            staff staff0_ 
        where
            staff0_.role_type=? 
            and staff0_.active=true
Hibernate: 
    /* select
        generatedAlias0 
    from
        Staff as generatedAlias0 
    where
        (
            generatedAlias0.roleType=:param0 
        ) 
        and (
            generatedAlias0.active = true 
        ) */ select
            staff0_.staff_id as staff_id1_12_,
            staff0_.created_by as created_2_12_,
            staff0_.created_time as created_3_12_,
            staff0_.updated_by as updated_4_12_,
            staff0_.updated_time as updated_5_12_,
            staff0_.version as version6_12_,
            staff0_.active as active7_12_,
            staff0_.department_id as departme8_12_,
            staff0_.email as email9_12_,
            staff0_.employee_no as employe10_12_,
            staff0_.legal_entity_id as legal_e11_12_,
            staff0_.phone as phone12_12_,
            staff0_.role_type as role_ty13_12_,
            staff0_.staff_name as staff_n14_12_ 
        from
            staff staff0_ 
        where
            staff0_.role_type=? 
            and staff0_.active=true
2025-09-16 09:02:51 [http-nio-8081-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder - binding parameter [1] as [VARCHAR] - [OPERATION]
2025-09-16 09:23:13 [http-nio-8081-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2025-09-16 09:47:42 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m17s438ms).
2025-09-16 09:52:55 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m42s935ms).
2025-09-16 09:58:07 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m42s504ms).
2025-09-16 10:03:05 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m27s557ms).
2025-09-16 10:13:49 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m43s835ms).
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  15:57 h
[INFO] Finished at: 2025-09-16T10:19:57+08:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.14:run (default-cli) on project oneorder-clearing-system: Application finished with exit code: 137 -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
