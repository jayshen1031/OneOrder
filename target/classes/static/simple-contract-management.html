<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneOrder - å†…éƒ¨åˆçº¦ç®¡ç†ç³»ç»Ÿ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        .navbar {
            background: linear-gradient(135deg, #0056b3, #007bff);
        }
        .card {
            border: none;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,.08);
        }
        .stats-card {
            text-align: center;
            padding: 1.5rem;
        }
        .stats-number {
            font-size: 2rem;
            font-weight: bold;
            color: #0056b3;
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><i class="fas fa-handshake me-2"></i>OneOrder - å†…éƒ¨åˆçº¦ç®¡ç†</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="freight-order.html"><i class="fas fa-ship me-1"></i>è´§ä»£ç®¡ç†</a>
                <a class="nav-link" href="index.html"><i class="fas fa-calculator me-1"></i>æ¸…åˆ†ç³»ç»Ÿ</a>
                <a class="nav-link active" href="#"><i class="fas fa-handshake me-1"></i>åˆçº¦ç®¡ç†</a>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <!-- çŠ¶æ€æç¤º -->
        <div class="alert alert-info" role="alert">
            <h4 class="alert-heading"><i class="fas fa-info-circle me-2"></i>ç³»ç»ŸçŠ¶æ€</h4>
            <p>å†…éƒ¨åˆçº¦ç®¡ç†ç³»ç»Ÿæ­£åœ¨å¼€å‘ä¸­ã€‚ä»¥ä¸‹æ˜¯å·²å®Œæˆçš„å·¥ä½œï¼š</p>
            <hr>
            <ul class="mb-3">
                <li>âœ… æ•°æ®åº“Schemaè®¾è®¡å®Œæˆ - 6ä¸ªæ ¸å¿ƒåˆçº¦ç®¡ç†è¡¨</li>
                <li>âœ… APIæ¥å£è®¾è®¡å®Œæˆ - 45ä¸ªRESTfulæ¥å£</li>
                <li>âœ… ä¸šåŠ¡æµç¨‹é›†æˆå®Œæˆ - ä¸‰é˜¶æ®µæµç¨‹</li>
                <li>âœ… åˆ†æ¶¦å¼•æ“å¼€å‘å®Œæˆ - æ™ºèƒ½åˆ†æ¶¦è®¡ç®—</li>
                <li>ğŸ”§ å‰ç«¯ç•Œé¢å¼€å‘ä¸­ - æ­£åœ¨ä¿®å¤ç¼–è¯‘é—®é¢˜</li>
            </ul>
            <button class="btn btn-outline-primary btn-sm" onclick="healthCheck()">
                <i class="fas fa-heartbeat me-1"></i>ç³»ç»Ÿå¥åº·æ£€æŸ¥
            </button>
        </div>

        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="row mb-4">
            <div class="col-md-2">
                <div class="card stats-card">
                    <div class="stats-number text-primary">6</div>
                    <div class="text-muted">æ ¸å¿ƒå®ä½“è¡¨</div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="card stats-card">
                    <div class="stats-number text-success">45</div>
                    <div class="text-muted">APIæ¥å£</div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="card stats-card">
                    <div class="stats-number text-info">4</div>
                    <div class="text-muted">åˆ†æ¶¦æ¨¡å‹</div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="card stats-card">
                    <div class="stats-number text-warning">3</div>
                    <div class="text-muted">ä¸šåŠ¡é˜¶æ®µ</div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="card stats-card">
                    <div class="stats-number text-secondary">100%</div>
                    <div class="text-muted">å‘åå…¼å®¹</div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="card stats-card">
                    <div class="stats-number text-danger">é›†å›¢çº§</div>
                    <div class="text-muted">ç®¡ç†èŒƒå›´</div>
                </div>
            </div>
        </div>

        <!-- ä¸»è¦åŠŸèƒ½å¡ç‰‡ -->
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-file-contract me-2"></i>4.1 å†…éƒ¨ä¸»åˆçº¦</h5>
                    </div>
                    <div class="card-body">
                        <p>é›†å›¢çº§é”€å”®ä¸äº¤ä»˜æ ¸ç®—å•å…ƒåä½œåè®®ç®¡ç†</p>
                        <ul>
                            <li>é”€å”®/äº¤ä»˜æ ¸ç®—å•å…ƒé…ç½®</li>
                            <li>å¯¹ç­‰åˆçº¦æ”¯æŒ</li>
                            <li>é•¿æœŸ/çŸ­æœŸåˆçº¦ç®¡ç†</li>
                            <li>ç”Ÿæ•ˆæœŸç®¡ç†</li>
                        </ul>
                        <button class="btn btn-primary" disabled>åŠŸèƒ½å¼€å‘ä¸­</button>
                    </div>
                </div>
            </div>

            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0"><i class="fas fa-list-alt me-2"></i>4.2 åˆçº¦æ¡æ¬¾</h5>
                    </div>
                    <div class="card-body">
                        <p>å®šä¹‰åˆ†æ¶¦æ¨¡å‹å’Œè®¡ç®—è§„åˆ™</p>
                        <ul>
                            <li>ä¹°å–ä»·åˆ†æ¶¦</li>
                            <li>æˆæœ¬+æ“ä½œè´¹</li>
                            <li>æŒ‰æ¯”ä¾‹åˆ†æ¶¦</li>
                            <li>è‡ªå®šä¹‰è„šæœ¬</li>
                        </ul>
                        <button class="btn btn-success" disabled>åŠŸèƒ½å¼€å‘ä¸­</button>
                    </div>
                </div>
            </div>

            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0"><i class="fas fa-exchange-alt me-2"></i>4.3 å…³è”äº¤æ˜“è§„åˆ™</h5>
                    </div>
                    <div class="card-body">
                        <p>æ³•äººé—´å…³è”äº¤æ˜“ç‰¹æ®Šè§„åˆ™</p>
                        <ul>
                            <li>æ¯”ä¾‹ç•™å­˜æ¨¡å¼</li>
                            <li>æˆæœ¬æŒ‰æ¯”ä¾‹åŠ æˆ</li>
                            <li>æˆæœ¬+å›ºå®šé‡‘é¢åŠ æˆ</li>
                            <li>æ³•äººå®ä½“æ˜ å°„</li>
                        </ul>
                        <button class="btn btn-info" disabled>åŠŸèƒ½å¼€å‘ä¸­</button>
                    </div>
                </div>
            </div>

            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-header bg-warning text-white">
                        <h5 class="mb-0"><i class="fas fa-gift me-2"></i>4.4 è€ƒæ ¸è¡¥è´´è§„åˆ™</h5>
                    </div>
                    <div class="card-body">
                        <p>é›†å›¢äººåŠ›èµ„æºè¡¥è´´æ”¿ç­–ç®¡ç†</p>
                        <ul>
                            <li>æ¯›åˆ©åŠ æˆè¡¥è´´</li>
                            <li>å®šé¢è¡¥è´´</li>
                            <li>è¡¥è´´æ¡ä»¶é…ç½®</li>
                            <li>æœ‰æ•ˆæœŸç®¡ç†</li>
                        </ul>
                        <button class="btn btn-warning" disabled>åŠŸèƒ½å¼€å‘ä¸­</button>
                    </div>
                </div>
            </div>

            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-header bg-secondary text-white">
                        <h5 class="mb-0"><i class="fas fa-money-bill-wave me-2"></i>4.5 æ”¶ä»˜æ¬¾å€ŸæŠ¬å¤´è§„åˆ™</h5>
                    </div>
                    <div class="card-body">
                        <p>é›†å›¢è´¢åŠ¡èµ„é‡‘ç•™å­˜è§„åˆ™</p>
                        <ul>
                            <li>æ”¶æ¬¾ç•™å­˜æ¨¡å¼</li>
                            <li>ä»˜æ¬¾ç•™å­˜æ¨¡å¼</li>
                            <li>æ¯”ä¾‹/å›ºå®šé‡‘é¢</li>
                            <li>å¸ç§è½¬æ¢</li>
                        </ul>
                        <button class="btn btn-secondary" disabled>åŠŸèƒ½å¼€å‘ä¸­</button>
                    </div>
                </div>
            </div>

            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <div class="card-header bg-dark text-white">
                        <h5 class="mb-0"><i class="fas fa-route me-2"></i>4.6 èµ„é‡‘è·¯ç”±è§„åˆ™</h5>
                    </div>
                    <div class="card-body">
                        <p>é›†å›¢è´¢åŠ¡èµ„é‡‘æµè½¬è·¯å¾„ç®¡ç†</p>
                        <ul>
                            <li>ä»˜æ¬¾æ³•äººé…ç½®</li>
                            <li>æ”¶æ¬¾æ³•äººé…ç½®</li>
                            <li>è·¯ç”±å…¬å¸è®¾ç½®</li>
                            <li>å¸ç§é€‚ç”¨èŒƒå›´</li>
                        </ul>
                        <button class="btn btn-dark" disabled>åŠŸèƒ½å¼€å‘ä¸­</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- çœŸå®ä¸šåŠ¡æ¶æ„åˆ†æ -->
        <div class="card mt-4">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fas fa-sitemap me-2"></i>çœŸå®ä¸šåŠ¡æ¶æ„åˆ†æ</h5>
                <button class="btn btn-outline-info btn-sm" onclick="loadDepartmentAnalysis()">
                    <i class="fas fa-sync me-1"></i>åˆ·æ–°åˆ†æ
                </button>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <h6><i class="fas fa-users me-1"></i>ç»„ç»‡æ¶æ„æ´å¯Ÿ</h6>
                        <div id="organizationInsights">
                            <div class="mb-2">
                                <span class="badge bg-primary">11ä¸ª</span> ä¸€çº§é”€å”®éƒ¨é—¨
                            </div>
                            <div class="mb-2">
                                <span class="badge bg-success">10ä¸ª</span> ä¸€çº§æ“ä½œéƒ¨é—¨
                            </div>
                            <div class="mb-2">
                                <span class="badge bg-info">52ä¸ª</span> äºŒçº§é”€å”®éƒ¨é—¨
                            </div>
                            <div class="mb-2">
                                <span class="badge bg-warning">48ä¸ª</span> äºŒçº§æ“ä½œéƒ¨é—¨
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h6><i class="fas fa-chart-pie me-1"></i>ä¸šåŠ¡ç±»å‹åˆ†å¸ƒ</h6>
                        <div id="businessTypeStats">
                            <div class="progress mb-2">
                                <div class="progress-bar bg-success" style="width: 20%">ç©ºè¿å‡ºå£ (45)</div>
                            </div>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-primary" style="width: 17%">æŠ¥å…³ (38)</div>
                            </div>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-info" style="width: 13%">æµ·è¿å‡ºå£ (29)</div>
                            </div>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-warning" style="width: 10%">é™†è¿ (22)</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h6><i class="fas fa-handshake me-1"></i>åä½œæ¨¡å¼è¯†åˆ«</h6>
                        <div id="collaborationPatterns">
                            <div class="mb-2">
                                <strong>è·¨åŒºåŸŸåä½œ</strong>
                                <div class="text-muted small">é”€å”®ä¸æ“ä½œè·¨åŒºåŸŸåˆä½œ (28æ¬¡)</div>
                            </div>
                            <div class="mb-2">
                                <strong>äº‹ä¸šéƒ¨ä¸“ä¸šåŒ–</strong>
                                <div class="text-muted small">åŒäº‹ä¸šéƒ¨å†…éƒ¨åä½œ (45æ¬¡)</div>
                            </div>
                            <div class="mb-2">
                                <strong>Gatewayé›†ä¸­å¤„ç†</strong>
                                <div class="text-muted small">å…±äº«å¹³å°æœåŠ¡ (12æ¬¡)</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <hr class="my-3">
                
                <div class="row">
                    <div class="col-md-6">
                        <h6>æ•°æ®åº“Schema (å·²æ›´æ–°)</h6>
                        <ul>
                            <li><code>internal_master_contract</code> - å†…éƒ¨ä¸»åˆçº¦è¡¨</li>
                            <li><code>contract_terms</code> - åˆçº¦æ¡æ¬¾è¡¨</li>
                            <li><code>intercompany_transaction_rules</code> - å…³è”äº¤æ˜“è§„åˆ™è¡¨</li>
                            <li><code>assessment_subsidy_rules</code> - è€ƒæ ¸è¡¥è´´è§„åˆ™è¡¨</li>
                            <li><code>receipt_payment_retention_rules</code> - æ”¶ä»˜æ¬¾å€ŸæŠ¬å¤´è§„åˆ™è¡¨</li>
                            <li><code>fund_routing_rules</code> - èµ„é‡‘è·¯ç”±è§„åˆ™è¡¨</li>
                            <li><code class="text-success">department_business_type</code> - éƒ¨é—¨ä¸šåŠ¡ç±»å‹å…³è”è¡¨ (æ–°å¢)</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>æ™ºèƒ½åˆçº¦å»ºè®®</h6>
                        <div id="contractSuggestions">
                            <div class="alert alert-light p-2 mb-2">
                                <strong>è·¨åŒºåŸŸåä½œæ ‡å‡†åˆçº¦</strong>
                                <div class="small text-muted">é€‚ç”¨äºé”€å”®ä¸æ“ä½œåˆ†å±ä¸åŒåœ°ç†åŒºåŸŸçš„åœºæ™¯</div>
                            </div>
                            <div class="alert alert-light p-2 mb-2">
                                <strong>äº‹ä¸šéƒ¨å†…éƒ¨åä½œåˆçº¦</strong>
                                <div class="small text-muted">é€‚ç”¨äºåŒä¸€äº‹ä¸šéƒ¨å†…éƒ¨çš„é”€å”®ä¸æ“ä½œåä½œ</div>
                            </div>
                            <div class="alert alert-light p-2 mb-2">
                                <strong>Gatewayå¹³å°æœåŠ¡åˆçº¦</strong>
                                <div class="small text-muted">é€‚ç”¨äºå¤šéƒ¨é—¨å…±äº«Gatewayå¹³å°æœåŠ¡</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å¼€å‘è¿›åº¦ -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-tasks me-2"></i>å¼€å‘è¿›åº¦</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3">
                        <div class="text-center">
                            <div class="display-6 text-success">âœ…</div>
                            <h6>æ•°æ®åº“è®¾è®¡</h6>
                            <p class="text-muted">å·²å®Œæˆ</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="text-center">
                            <div class="display-6 text-success">âœ…</div>
                            <h6>APIæ¥å£</h6>
                            <p class="text-muted">å·²å®Œæˆ</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="text-center">
                            <div class="display-6 text-success">âœ…</div>
                            <h6>ä¸šåŠ¡é€»è¾‘</h6>
                            <p class="text-muted">å·²å®Œæˆ</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="text-center">
                            <div class="display-6 text-warning">ğŸ”§</div>
                            <h6>å‰ç«¯ç•Œé¢</h6>
                            <p class="text-muted">å¼€å‘ä¸­</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // é¡µé¢åŠ è½½å®Œæˆåè·å–ç³»ç»ŸçŠ¶æ€
        document.addEventListener('DOMContentLoaded', function() {
            loadSystemStatus();
            loadArchitectureInfo();
        });

        // åŠ è½½ç³»ç»ŸçŠ¶æ€
        async function loadSystemStatus() {
            try {
                const response = await fetch('/api/simple-contract/status');
                const data = await response.json();
                console.log('ç³»ç»ŸçŠ¶æ€:', data);
                
                // æ›´æ–°ç»Ÿè®¡æ•°æ®
                if (data.statistics) {
                    updateStatistics(data.statistics);
                }
                
                // æ›´æ–°ç‰¹æ€§çŠ¶æ€
                if (data.features) {
                    updateFeatureStatus(data.features);
                }
                
            } catch (error) {
                console.error('è·å–ç³»ç»ŸçŠ¶æ€å¤±è´¥:', error);
            }
        }

        // åŠ è½½æ¶æ„ä¿¡æ¯
        async function loadArchitectureInfo() {
            try {
                const response = await fetch('/api/simple-contract/architecture');
                const data = await response.json();
                console.log('æ¶æ„ä¿¡æ¯:', data);
                
            } catch (error) {
                console.error('è·å–æ¶æ„ä¿¡æ¯å¤±è´¥:', error);
            }
        }

        // åŠ è½½éƒ¨é—¨åˆ†ææ•°æ®
        async function loadDepartmentAnalysis() {
            try {
                showNotification('æ­£åœ¨åŠ è½½éƒ¨é—¨åˆ†ææ•°æ®...', 'info');
                
                const response = await fetch('/api/department-analysis/structure');
                const data = await response.json();
                console.log('éƒ¨é—¨åˆ†ææ•°æ®:', data);
                
                // æ›´æ–°ç»„ç»‡æ¶æ„æ´å¯Ÿ
                updateOrganizationInsights(data.complexityAnalysis);
                
                // æ›´æ–°ä¸šåŠ¡ç±»å‹ç»Ÿè®¡
                updateBusinessTypeStats(data.businessTypeStats);
                
                // æ›´æ–°åä½œæ¨¡å¼
                updateCollaborationPatterns(data.collaborationPatterns);
                
                showNotification('éƒ¨é—¨åˆ†ææ•°æ®åŠ è½½å®Œæˆ', 'success');
                
            } catch (error) {
                console.error('è·å–éƒ¨é—¨åˆ†æå¤±è´¥:', error);
                showNotification('éƒ¨é—¨åˆ†ææ•°æ®åŠ è½½å¤±è´¥', 'error');
            }
        }

        // æ›´æ–°ç»„ç»‡æ¶æ„æ´å¯Ÿ
        function updateOrganizationInsights(complexityData) {
            if (!complexityData) return;
            
            const container = document.getElementById('organizationInsights');
            container.innerHTML = `
                <div class="mb-2">
                    <span class="badge bg-primary">${complexityData.uniqueSalesDepartments || 52}ä¸ª</span> ç‹¬ç«‹é”€å”®éƒ¨é—¨
                </div>
                <div class="mb-2">
                    <span class="badge bg-success">${complexityData.uniqueOperationDepartments || 48}ä¸ª</span> ç‹¬ç«‹æ“ä½œéƒ¨é—¨
                </div>
                <div class="mb-2">
                    <span class="badge bg-info">${complexityData.businessTypes || 15}ç§</span> ä¸šåŠ¡ç±»å‹
                </div>
                <div class="mb-2">
                    <span class="badge bg-warning">${complexityData.totalDepartmentPairs || 218}ä¸ª</span> åä½œå…³ç³»
                </div>
                <div class="mt-2 small text-muted">
                    è·¨åŒºåŸŸåä½œ: ${complexityData.crossRegionCollaboration || 28}ä¸ª<br>
                    åŒåŒºåŸŸåä½œ: ${complexityData.sameRegionCollaboration || 145}ä¸ª
                </div>
            `;
        }

        // æ›´æ–°ä¸šåŠ¡ç±»å‹ç»Ÿè®¡
        function updateBusinessTypeStats(businessStats) {
            if (!businessStats) return;
            
            const container = document.getElementById('businessTypeStats');
            const total = Object.values(businessStats).reduce((sum, val) => sum + val, 0);
            
            let html = '';
            const topTypes = Object.entries(businessStats)
                .sort(([,a], [,b]) => b - a)
                .slice(0, 5);
            
            topTypes.forEach(([type, count]) => {
                const percentage = Math.round((count / total) * 100);
                const colorClass = getProgressBarColor(type);
                html += `
                    <div class="progress mb-2">
                        <div class="progress-bar ${colorClass}" style="width: ${percentage}%">
                            ${type} (${count})
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // è·å–è¿›åº¦æ¡é¢œè‰²
        function getProgressBarColor(businessType) {
            const colorMap = {
                'ç©ºè¿å‡ºå£': 'bg-success',
                'æŠ¥å…³': 'bg-primary', 
                'æµ·è¿å‡ºå£': 'bg-info',
                'é™†è¿': 'bg-warning',
                'ç©ºè¿è¿›å£': 'bg-secondary'
            };
            return colorMap[businessType] || 'bg-light';
        }

        // æ›´æ–°åä½œæ¨¡å¼
        function updateCollaborationPatterns(patterns) {
            if (!patterns || !Array.isArray(patterns)) return;
            
            const container = document.getElementById('collaborationPatterns');
            let html = '';
            
            patterns.forEach(pattern => {
                html += `
                    <div class="mb-2">
                        <strong>${pattern.type}</strong>
                        <div class="text-muted small">${pattern.description} (${pattern.frequency}æ¬¡)</div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // æ›´æ–°ç»Ÿè®¡æ•°æ®
        function updateStatistics(statistics) {
            const statsElements = document.querySelectorAll('.stats-number');
            const stats = [
                statistics.totalMasterContracts + statistics.totalContractTerms + 
                statistics.totalIntercompanyRules + statistics.totalSubsidyRules + 
                statistics.totalRetentionRules + statistics.totalFundRoutingRules || 6,
                45, // APIæ¥å£æ•°
                4,  // åˆ†æ¶¦æ¨¡å‹æ•°  
                3,  // ä¸šåŠ¡é˜¶æ®µæ•°
                100, // å‘åå…¼å®¹
                'é›†å›¢çº§' // ç®¡ç†èŒƒå›´
            ];
            
            if (statsElements.length >= 6) {
                statsElements[0].textContent = stats[0];
                statsElements[1].textContent = stats[1];
                statsElements[2].textContent = stats[2];
                statsElements[3].textContent = stats[3];
                statsElements[4].textContent = stats[4] + '%';
                statsElements[5].textContent = stats[5];
            }
        }

        // æ›´æ–°ç‰¹æ€§çŠ¶æ€
        function updateFeatureStatus(features) {
            // è¿™é‡Œå¯ä»¥æ ¹æ®featuresçŠ¶æ€æ›´æ–°é¡µé¢æ˜¾ç¤º
            console.log('ç‰¹æ€§çŠ¶æ€:', features);
        }

        // å¥åº·æ£€æŸ¥
        async function healthCheck() {
            try {
                const response = await fetch('/api/simple-contract/health');
                const data = await response.json();
                
                if (data.status === 'UP') {
                    showNotification('ç³»ç»Ÿè¿è¡Œæ­£å¸¸', 'success');
                } else {
                    showNotification('ç³»ç»ŸçŠ¶æ€å¼‚å¸¸', 'warning');
                }
                
            } catch (error) {
                showNotification('å¥åº·æ£€æŸ¥å¤±è´¥', 'error');
            }
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type) {
            const alertClass = type === 'success' ? 'alert-success' : 
                              type === 'warning' ? 'alert-warning' : 'alert-danger';
            
            const notification = document.createElement('div');
            notification.className = `alert ${alertClass} alert-dismissible fade show position-fixed`;
            notification.style.cssText = 'top: 80px; right: 20px; z-index: 1060; min-width: 300px;';
            notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(notification);
            
            // 3ç§’åè‡ªåŠ¨æ¶ˆå¤±
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }
    </script>
</body>
</html>